<!doctype html>
<html lang="en" ng-app="todomvc" scroll data-framework="firebase">
<head>
	<meta charset="utf-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- http://stackoverflow.com/questions/1341089/using-meta-tags-to-turn-off-caching-in-all-browsers -->
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />

	<title>Question Room: {{roomId}}</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/questionroom.css" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

	<!-- need this for comlted ones. TODO: can I do this in bootstrap -->
	<link rel="stylesheet" href="main.css">

</head>
<<<<<<< HEAD
<body ng-controller="TodoCtrl" class="body">
	<nav class="navbar navbar-default navbar-fixed-top">
	  <div class="container">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		  </button>
		  <a class="navbar-brand" href="#">Question Room: {{roomId}}</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		
		  <div ng-init="isSignUpFormShow=true" ng-show="isSignUpFormShow">
			<form class="navbar-form navbar-header" novalidate role="form">
				
				<label>Tell me who you are: </label> 
				<input type="text" ng-model="userName" placeholder="Name" class="input-sm"/>
				
				<input type="submit" ng-click="isSignUpFormShow=signUp()" value="Sign" 
				class="btn btn-default" />
			</form>
		  </div>
		  
			<div ng-show="!isSignUpFormShow" class="navbar-header">
			<ul  class="nav navbar-nav navbar-right">
			<li>
				<a >Nice to meet you! <strong>{{ userName }}</strong></a>
				</li>
			</ul>
			</div>
		  
		  <ul class="nav navbar-nav navbar-right">
			<li><a  href="./index.html">Main</a></li>
			<li>
			<button ng-hide="$authData" type="button" class="btn btn-default navbar-btn"  ng-click="FBLogin()">Sign In FB</button>
			</li>
			<!-- after login -->
			<li>
			<img ng-show="$authData" src="https://graph.facebook.com/{{$authData.facebook.id}}/picture/?type=square&return_ssl_resources=1" alt="{{name}}" />
			{{$authData.facebook.displayName}}
			</li>
			<li>
			<button ng-show="$authData" type="button" class="btn btn-default navbar-btn" ng-click="FBLogout()">Logout</button>
			</li>
		  </ul>
		</div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>

	<div class="container">
<!--
	<div ng-init="isSignUpFormShow=true" ng-show="isSignUpFormShow">
=======
<body ng-controller="TodoCtrl">

	<div  ng-show="isSignUpFormShow">
>>>>>>> 701ecc4fc4c19124938333485e9f0475dddc79ea
		<br>
		<form novalidate role="form">
			Sign up to comment! <input type="text" ng-model="userName" placeholder="Name" class="input-sm"/>
	   		
			<input type="submit" ng-click="isSignUpFormShow=signUp()" value="Sign" 
			class="btn btn-info btn-sm" />
		</form>
	</div>

	<div ng-show="!isSignUpFormShow">
		<p>Login: {{ userName }}</p>
	</div>

	<font size="10">Questions for {{roomId}}?</font>&nbsp;
-->
	<!--

	<a ng-class="{selected: location.path() == '/newechos'}" class="btn btn-primary" href="#/newechos">New Echos</a>
	<a ng-class="{selected: location.path() == '/tags'}" class="btn btn-success" href="#/tags">Tags</a>
	<a ng-class="{selected: location.path() == '/users'}" class="btn btn-info" href="#/users">Users</a>
	<a ng-class="{selected: location.path() == '/about'}" class="btn btn-warning" href="#/about">About</a>
-->
<!--
<a class="btn btn-default" href="/index.html">Main</a>
<button ng-hide="$authData" class="btn btn-primary left" type="button" ng-click="FBLogin()">Want Admin? Sign in with Facebook</button>


<img ng-show="$authData" src="https://graph.facebook.com/{{$authData.facebook.id}}/picture/?type=square&return_ssl_resources=1" alt="{{name}}" />
{{$authData.facebook.displayName}}
<button ng-show="$authData" class="btn btn-primary left" type="button" ng-click="FBLogout()">Logout</button>
-->


<div class="inputBox" >
	<!--
	<form id="todo-form" ng-submit="addTodo()">
-->
<textarea type="text" id="new-todo" class="form-control "
placeholder="Search or Post Question"
ng-model="input.wholeMsg" style="height:100px" autofocus></textarea>
<button class="btnAsk" ng-click="addTodo()">Ask</button>

</div><!-- /input-group -->


<div class="list-group" id="todo-list">
	<div
		class="list-group-item"
		style="margin:10px 0; padding:0"
		ng-init="isCommentShow=false; isViewShow=false;"
		ng-repeat="todo in todos | filter:input | questionFilter:maxQuestion"
		ng-class="{completed: todo.completed, editing: todo == editedTodo}"
		>
		<div class="questionBlock">
			<div class="questionContent">
				<h4 class="list-group-item-heading" ng-switch on="todo.headLastChar">
					<span class="label label-danger" ng-show="todo.new">New</span>
					<!-- switch -->
					<span ng-switch-when="?" class="glyphicon glyphicon-question-sign"></span>
					<span ng-switch-when="!" class="glyphicon glyphicon-ice-lolly"></span>
					<span ng-class="{completed: todo.completed}">{{todo.head}}</span>
					
					<small class="stringTime">{{todo.dateString}}</small>
				</h4>

				<p class="list-group-item-text content" style="margin:3px 0">
					<span ng-bind-html="todo.trustedDesc"></span>
				</p>
				<p>
					<span ng-show="todo.tags" ng-repeat="tag in todo.tags">
					<button class="badge" style="background-color:#40BEB5;padding:3px 7px;margin:0 3px; border:0" ng-click="tagToMsg(tag)">{{tag}}</button>
					</span>
				</p>
			</div>
			<div>
				<button type="button" class="btn glyphicon glyphicon glyphicon-thumbs-up btnNav"  ng-click="addEcho(todo)">like{{todo.echo}}</button>
				<button type="button" class="btn glyphicon glyphicon glyphicon-thumbs-down btnNav" ng-click="minusEcho(todo)">dislike{{todo.d_echo}}</button>
				<button type="button" class="btn glyphicon glyphicon-comment btnNav" ng-click="isViewShow=!isViewShow">{{todo.views}}</button>
				<button type="button" class="btn glyphicon glyphicon-pencil btnNav" ng-click="isCommentShow=!isCommentShow" ng-show="!isSignUpFormShow">reply</button>
				<button ng-show="isAdmin" class="btn glyphicon glyphicon-check btnNav" ng-click="toggleCompleted(todo)">Completed</button>
				<button ng-show="isAdmin" class="btn glyphicon glyphicon-trash btnNav" aria-hidden="true" ng-click="removeTodo(todo)">Del</button>
			</div>
				<div ng-show="isCommentShow" ng-init="form=forms[$index]">
					<form novalidate role="form">

						<textarea type="text" ng-model="form.msg" placeholder="Comment" class="form-control input-sm" rows="3"></textarea>

						<input type="submit" ng-click="isCommentShow = addComment(form, todo)" class="btn btn-info btn-sm" value="submit" />

					</form>
				</div>

		</div>
		<div ng-show="isViewShow">
			<div class="container" style="padding:0 20px" ng-repeat="comment in todo.comments" >
				<p>{{ comment.name }}: {{ comment.msg }}</p>
			</div>
		</div>


	</div>	
</div>
</div>
	<!--

	<div id="toTop" class="btn btn-info"><span class="fa fa-arrow-up">Back to Top</span></div>

	<button ng-hide="totalCount<=maxQuestion"
	class="pull-right btn btn-default glyphicon glyphicon-arrow-down"
	type="button" ng-click="increaseMax()"> Show more</button>
-->



<!-- Autolink from https://github.com/gregjacobs/Autolinker.js> -->
<script src="js/lib/Autolinker.min.js"></script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
	
<!-- 2.2.2 -->
<script src="js/lib/firebase.js"></script>
<script src="js/lib/angular.min.js"></script>
<script src="js/lib/angularfire.js"></script>

<!-- Ng storage 0.3.6  -->
<script src="js/lib/ngStorage.min.js"></script>

<script src="js/app.js"></script>
<script src="js/filters/questionFilter.js"></script>
<script src="js/controllers/todoCtrl.js"></script>
<script src="js/directives/todoFocus.js"></script>
<script src="js/directives/todoBlur.js"></script>
<script src="js/directives/todoEscape.js"></script>
</body>
</html>
